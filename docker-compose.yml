version: '3.8'\n\nservices:\n  postgres:\n    image: postgres:15-alpine\n    container_name: yellow-goat-db\n    environment:\n      POSTGRES_USER: yellowgoat\n      POSTGRES_PASSWORD: secure_password_123\n      POSTGRES_DB: yellow_goat_db\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    ports:\n      - "5432:5432"\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U yellowgoat"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    container_name: yellow-goat-backend\n    environment:\n      DB_HOST: postgres\n      DB_PORT: 5432\n      DB_USER: yellowgoat\n      DB_PASSWORD: secure_password_123\n      DB_NAME: yellow_goat_db\n      JWT_SECRET: your_super_secret_jwt_key_change_this_in_production\n      NODE_ENV: development\n      PORT: 5000\n      CORS_ORIGIN: http://localhost:3000\n    ports:\n      - "5000:5000"\n    depends_on:\n      postgres:\n        condition: service_healthy\n    volumes:\n      - ./backend:/app\n      - /app/node_modules\n    command: npm run dev\n\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n    container_name: yellow-goat-frontend\n    ports:\n      - "3000:3000"\n    environment:\n      VITE_API_URL: http://localhost:5000/api\n    depends_on:\n      - backend\n    volumes:\n      - ./frontend:/app\n      - /app/node_modules\n    command: npm run dev\n\nvolumes:\n  postgres_data: